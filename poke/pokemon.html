
<!DOCTYPE html>
<html>
<head>
<script src ="underscore-min.js"></script>
<script src ="poke.js"></script>
<script> 
console.log(pokemon);
</script>
</head>
	<title></title>

<body>
<label>Select sort mode...</label>
<select id = "sort">
<option>Name</option>
<option>Number</option>
</select>
<label>Select Filter....</label>
<select id = "filter"> 
<option>Water</option>
<option>Fire</option>
<option>Poison</option>
</select>
<div id ="holder">
</div>
<script>

var sortMode = "name"
var 
var filtered = _.filter(pokemon, function(p) { 

	return p.type.includes("Water");

});


	var sortSelect = document.getElementById ("sort");
	sortSelect.addEventListener("change", function(e){

		if (sortSelect.value == "Name") {
			sortMode = "name";

		} else if (sortSelect.value == "Number") {
			sortMode = "id";

		} update();

	});

	var filterSelect = document.getElementById("filter");
	filterSelect.addEventListener("change", function(e) {
		filterMode = filterSelect.value;
		update()
	});

	function update() {
		var filtered = _.filter(pokemon, function(p) {
			return p.type.includes(filterMode);

		});

		var sorted = _.sortBy(filtered, "name");

		var holder = document.getElementById("holder");
		holder.innerHTML = "";

		for (var i = 0; i < pokemon.length; i++){

		console.log(i); 

		var pokemonText = sorted[i].id + ":" + sorted[i].name;

		var myPokemon = document.createElement("div");
		myPokemon.innerHTML = pokemonText;
		holder.appendChild(myPokemon);

		}

	}

</script>

</body>
</html>